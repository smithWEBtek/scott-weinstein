<h1>Administrator Dashboard</h1>

<div style="margin-top: 80px;">
  <div id="chartContainer" class="all-signups">
    <%= @signup_chart.render() %>
  </div>

  <div id="all-users-div">
    <h2>All Users</h2>
    <table id="all-users" class="table table-striped">
      <thead>
        <th>Username</th>
        <th>Name</th>
        <th>Signup Date</th>
      </thead>
      <tbody>
      <% User.all.each do |u| %>
      <tr>
        <td><%= u.username %></td>
        <td><%= u.first_name %> <%= u.last_name %></td>
        <td><%= u.created_at.strftime("%m/%d/%Y") %></td>
      </tr>
      <% end %>
      </tbody>
    </table>
  </div>
<div>

<div style="position: relative; bottom: 170px;">
  <h2>All Activities</h2>
  <table id="activity-analytics" class="table table-hover">
    <thead>
      <th style="text-align: left;">Activity</th>
      <th style="text-align: right;">Calories Burned</th>
      <th style="text-align: right;">Workout Date</th>
      <th style="text-align: right;">User</th>
      <th style="text-align: right;">Username</th>
    </thead>
    <tbody>
    <% ActivityEntry.all.each do |ae| %>
    <tr>
      <td style="text-align: left;"><%= ae.name %></td>
      <td style="text-align: right;"><%= ae.calories_burned %></td>
      <td style="text-align: right;"><%= ae.created_at.strftime("%m/%d/%Y") %></td>
      <td style="text-align: right;"><%= ae.user.first_name %> <%= ae.user.last_name %></td>
      <td style="text-align: right;"><%= ae.user.username %></td>
    </tr>
    <% end %>
    </tbody>
  </table>
  <br>
  <br>
  <br>
  <h2>All Challenges</h2>
  <table class="table table-bordered">
    <thead>
      <th>Name</th>
      <th>End Date</th>
      <th>Participants</th>
    </thead>
    <tbody>
    <% Challenge.all.each do |c| %>
    <tr>
      <td><%= c.name %></td>
      <td><%= c.end_date.strftime("%m/%d/%Y") %> </td>
      <td><%= c.users.count %></td>
    </tr>
    <% end %>
    </tbody>
  </table>
</div>